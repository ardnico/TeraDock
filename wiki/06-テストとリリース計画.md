# ğŸ§ª ãƒ†ã‚¹ãƒˆã¨ãƒªãƒªãƒ¼ã‚¹è¨ˆç”»

## å£Šã‚Œã‚„ã™ã„ç®‡æ‰€ã¨ãƒ†ã‚¹ãƒˆæ–¹é‡
- ID æ­£è¦åŒ–ãƒ»äºˆç´„èªæ‹’å¦ã€Export/Import ã®ã‚¹ã‚­ãƒ¼ãƒäº’æ›ã€CommandSpec ç”Ÿæˆã§ Secret æ··å…¥ãŒãªã„ã“ã¨ã‚’ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§ä¿è¨¼ã€‚ã€F:PROJECT_PLAN.mdâ€ L348-L360ã€‘
- Secret æš—å·åŒ–ã¯ encrypt/decrypt ä¸€è‡´ã¨ AAD ä¸ä¸€è‡´æ™‚ã®å¾©å·å¤±æ•—ã‚’æ¤œè¨¼ã€‚ã€F:PROJECT_PLAN.mdâ€ L352-L357ã€‘
- FTP ã‚¬ãƒ¼ãƒ‰ã¯è¨­å®šæœªæŒ‡å®šæ™‚ã«æ‹’å¦ã—ã€ãƒ•ãƒ©ã‚°ç„¡ã—ã§ã‚‚æ‹’å¦ã™ã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã€‚ã€F:PROJECT_PLAN.mdâ€ L357-L360ã€‘
- çµåˆãƒ†ã‚¹ãƒˆ: `td doctor` ã® PATH å·®åˆ†æ¤œçŸ¥ã¨ `--format json` ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã‚’é‡è¦–ã€‚ã€F:PROJECT_PLAN.mdâ€ L362-L366ã€‘
- æ‰‹å‹•è©¦é¨“: SSH connect/exec/runã€Config applyï¼ˆbackup/planï¼‰ã€TUI æ¤œç´¢ãƒ»å®Ÿè¡Œã‚’ v0.1 å¿…é ˆã¨ã™ã‚‹ã€‚ã€F:PROJECT_PLAN.mdâ€ L367-L371ã€‘

```mermaid
gantt
title Test emphasis
section Unit
ID rules            :done, 2025-01-01, 1d
Secret crypto       :active, 2025-01-02, 1d
CommandSpec masks   : 2025-01-03, 1d
section Integration
Doctor path check   : 2025-01-04, 1d
JSON schema exec/run: 2025-01-05, 1d
section Manual
SSH/TUI regressions : 2025-01-06, 2d
```

## å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºã¨æˆæœç‰©
- Phase0: workspace åˆ†å‰²ã€ã‚¨ãƒ©ãƒ¼å‹ãƒ»tracing åŸºç›¤ã€SQLite å°å…¥ã€‚`td --version` ã¨åˆå›ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªã€‚ã€F:PROJECT_PLAN.mdâ€ L397-L408ã€‘
- Phase1: ID ãƒ«ãƒ¼ãƒ«ç¢ºå®šï¼‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã€‚ã€F:PROJECT_PLAN.mdâ€ L409-L417ã€‘
- Phase2: Profiles CRUD ã¨ `td add/edit/rm/list/show`ï¼ˆSecret éè¡¨ç¤ºï¼‰ã€‚ã€F:PROJECT_PLAN.mdâ€ L418-L427ã€‘
- Phase3: Secret æš—å·åŒ–ã¨ `secret` ã‚³ãƒãƒ³ãƒ‰ç¾¤ã€‚ã€F:PROJECT_PLAN.mdâ€ L428-L437ã€‘
- Phase4-18: doctor ã‹ã‚‰é…å¸ƒãƒ»CI ã¾ã§é †æ¬¡å®Ÿè£…ã—ã€å„ªå…ˆåº¦é †ã«ãƒªãƒªãƒ¼ã‚¹æº–å‚™ã€‚ã€F:PROJECT_PLAN.mdâ€ L438-L562ã€‘

```mermaid
flowchart LR
  p0[Phase0\nworkspace+db] --> p1[Phase1\nID rules]
  p1 --> p2[Phase2\nProfiles CRUD]
  p2 --> p3[Phase3\nSecrets]
  p3 --> p4[Phase4\ndoctor]
  p4 --> p5[Phase5\nDanger guard]
  p5 --> p6[Phase6-9\nSSH & transfer]
  p6 --> p7[Phase10-13\nConfig/Export/Test]
  p7 --> p8[Phase14-18\nTelnet/Serial/TUI/CI]
```

## é…å¸ƒã¨ CI
- Windows: Inno Setup ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ç”Ÿæˆã€‚Linux: `cargo-deb` ã¨ `tar.gz` ã‚’ãƒ“ãƒ«ãƒ‰ã€‚CI ã¯ windows-latest / ubuntu-latest ã§ `cargo fmt`, `cargo clippy`, `cargo test` ã‚’å®Ÿè¡Œã—ã€ã‚¿ã‚°ä»˜ã‘ã§ãƒªãƒªãƒ¼ã‚¹æˆæœç‰©ã‚’ç”Ÿæˆã€‚ã€F:PROJECT_PLAN.mdâ€ L375-L390ã€‘

## æ¨å¥¨ãƒã‚§ãƒƒã‚¯ã‚³ãƒãƒ³ãƒ‰ï¼ˆå°†æ¥ã®é–‹ç™ºè€…å‘ã‘ï¼‰
```bash
# Formatting, lint, and unit tests once workspace is in place
cargo fmt
cargo clippy --all-targets --all-features
cargo test --all
```

å…¨ä½“ã®ç›®çš„ã¯ [æ¦‚è¦](./01-æ¦‚è¦.md) ã‚’ã€ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ã¯ [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](./03-ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«.md) ã‚’å‚ç…§ã€‚
